<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¿Ÿå·å³¶ä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f1f5f9;
            touch-action: manipulation;
        }

        .bg-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://i.meee.com.tw/9sjqlGA.png');
            background-size: cover;
            background-position: center;
            z-index: -2;
        }

        .bg-dimmer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.5), rgba(0,0,0,0.8));
            z-index: -1;
        }

        /* æ™‚é–“è»¸ç·šæ¢ */
        .timeline-container {
            position: relative;
        }
        .timeline-line {
            position: absolute;
            left: 28px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: repeating-linear-gradient(to bottom, transparent, transparent 5px, rgba(255,255,255,0.3) 5px, rgba(255,255,255,0.3) 10px);
            z-index: 0;
        }

        .glass-card {
            background: rgba(255, 255, 255, 1);
            border-radius: 20px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
            border: 1px solid #e2e8f0;
            position: relative;
            z-index: 10;
        }

        .cost-card {
            background: #1e293b;
            border: 2px solid #334155;
            box-shadow: 0 10px 25px rgba(0,0,0,0.25);
        }

        .pay-tag {
            font-size: 13px;
            padding: 3px 10px;
            border-radius: 6px;
            font-weight: 700;
        }
        .pay-WOWPASS { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .pay-tmoney { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .pay-card { background: #e0f2fe; color: #075985; border: 1px solid #bae6fd; }
        .pay-cash { background: #f1f5f9; color: #334155; border: 1px solid #e2e8f0; }

        .nav-btn {
            width: 58px;
            height: 58px;
            font-size: 14px;
            font-weight: 900;
            border-radius: 16px;
            transition: all 0.2s ease;
        }

        .plan-btn {
            flex: 1;
            padding: 12px;
            font-weight: 900;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.2s ease;
        }

        /* äº¤é€šé€£çµå¡Š */
        .transport-connector {
            padding: 8px 0 8px 56px;
            position: relative;
            z-index: 5;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade { animation: fadeIn 0.4s ease-out forwards; }
        
        h3 { line-height: 1.3 !important; }
    </style>
</head>
<body class="text-slate-900 pb-16 overflow-x-hidden">

    <div class="bg-overlay"></div>
    <div class="bg-dimmer"></div>

    <!-- æ¨™é¡Œå€ -->
    <section class="relative z-10 pt-12 pb-8 px-6 text-center">
        <h2 class="text-4xl font-black tracking-tight text-white mb-1 drop-shadow-lg">
            6å¤©5å¤œ<br/>
            <span class="text-orange-400">æ¿Ÿå·å³¶ä¹‹æ—…</span>
        </h2>
    </section>

    <!-- å¤©æ•¸å°èˆª -->
    <div class="relative z-40 mb-6">
        <nav id="day-nav" class="flex flex-wrap justify-center gap-2.5 px-4 max-w-lg mx-auto">
            <!-- jQuery æ¸²æŸ“æŒ‰éˆ• -->
        </nav>
    </div>

    <!-- æ–¹æ¡ˆåˆ‡æ›å€ -->
    <div id="plan-switcher" class="relative z-30 max-w-md mx-auto px-4 mb-6 hidden">
        <div class="bg-white/90 p-1.5 rounded-2xl flex gap-2 border border-white shadow-lg">
            <button id="btn-plan-A" class="plan-btn">æ–¹æ¡ˆ A</button>
            <button id="btn-plan-B" class="plan-btn">æ–¹æ¡ˆ B</button>
        </div>
    </div>

    <!-- è¡Œç¨‹å…§å®¹ (å«æ™‚é–“è»¸) -->
    <main class="relative z-10 max-w-md mx-auto px-4">
        <div class="timeline-container">
            <div id="timeline-line" class="timeline-line"></div>
            <div id="schedule-container" class="space-y-0">
                <!-- jQuery æ¸²æŸ“è¡Œç¨‹ -->
            </div>
        </div>
    </main>

    <!-- ä»Šæ—¥çµç®— -->
    <section id="daily-summary" class="max-w-md mx-auto px-4 mt-10 mb-10 relative z-20">
        <div class="cost-card rounded-[28px] p-7">
            <div class="flex items-center justify-between mb-5">
                <div class="flex items-center gap-2.5">
                    <div class="w-9 h-9 bg-orange-500 rounded-lg flex items-center justify-center text-white shadow-lg font-black text-lg">ï¼„</div>
                    <h3 class="text-white font-black text-xl">ä»Šæ—¥èŠ±è²»çµç®—</h3>
                </div>
                <span id="current-day-label" class="text-orange-400 text-sm font-black border border-orange-400/50 px-3 py-0.5 rounded-full uppercase tracking-tighter">Day 1</span>
            </div>
            
            <div class="space-y-4 pb-5 border-b border-white/10">
                <div class="flex justify-between items-end">
                    <p class="text-slate-400 text-xs font-bold mb-1">éŸ“å¹£ç¸½è¨ˆ (KRW)</p>
                    <p id="total-krw" class="text-3xl font-black text-white tabular-nums leading-none">â‚©0</p>
                </div>
                <div class="flex justify-between items-end">
                    <p class="text-slate-400 text-xs font-bold mb-1">å°å¹£ä¼°è¨ˆ (TWD)</p>
                    <p id="total-twd" class="text-3xl font-black text-orange-400 tabular-nums leading-none">NT$ 0</p>
                </div>
            </div>

            <div id="payment-subtotal" class="mt-5 space-y-3">
                <!-- å‹•æ…‹é¡¯ç¤ºæ”¯ä»˜æ–¹å¼ -->
            </div>
            
            <div class="mt-6 text-center border-t border-white/5 pt-4">
                <p class="text-[11px] text-slate-500 font-bold leading-relaxed">
                    * åŒ¯ç‡åƒè€ƒï¼š1 TWD â‰ˆ 45 KRW<br>
                </p>
            </div>
        </div>
    </section>

    <script>
        $(document).ready(function() {
            let currentDay = 1;
            let currentPlan = 'A';

            const scheduleData = {
                1: [
                {
					time: '09:50', 
					location: 'æŠµé”æ¿Ÿå·æ©Ÿå ´', 
					transport: 'âœˆï¸ é£›æ©Ÿ', 
					category: '', 
					costKRW: 0, 
					costTWD: 0, 
					pay: '' 
				},
				{ 
					time: '11:00', 
					location: 'éŒ¦ç¹¡å¤§é£¯åº— (å¯„æ”¾è¡Œæ)', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '3km', 
					duration: '7åˆ†é˜', 
					costKRW: 5900, 
					costTWD: 131, 
					pay: 'WOWPASS', 
					link: 'https://naver.me/FCASLRLn' 
				},
				{ 
					time: '11:30', 
					location: '24Hé†’é…’æ¹¯/é¦¬éˆ´è–¯æ’éª¨æ¹¯ (åˆé¤)', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: 'åˆé¤', 
					distance: '0.12km', 
					duration: '1åˆ†é˜', 
					costKRW: 38000, 
					costTWD: 844, 
					pay: 'åˆ·å¡', 
					link: 'https://blog.naver.com/helloworld1203/224114722244' 
				},
				{ 
					time: '13:00', 
					location: 'æ¢¨æ¹–æœ¨é¦¬ç‡ˆå¡”', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '4.4km', 
					duration: '11åˆ†é˜', 
					costKRW: 8300, 
					costTWD: 184, 
					pay: 'WOWPASS', 
					link: 'https://alinalife.tw/ihobeach/' 
				},
				{ 
					time: '14:30', 
					location: 'å½©è™¹æµ·å²¸å…¬è·¯', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '2.2km', 
					duration: '5åˆ†é˜', 
					costKRW: 8500, 
					costTWD: 189, 
					pay: 'WOWPASS', 
					link: 'https://alinalife.tw/daotoudong-rainbow/' 
				},
				{ 
					time: '16:30', 
					location: 'æ–°ä¸–ç•Œè¶…å¸‚', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '4.1km', 
					duration: '18åˆ†é˜', 
					costKRW: 7800, 
					costTWD: 173, 
					pay: 'WOWPASS', 
					link: 'https://naver.me/Fmf5fgKQ' 
				},
				{ 
					time: '17:00', 
					location: 'é£¯åº—', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: '', 
					distance: '0.55km', 
					duration: '7åˆ†é˜', 
					costKRW: 0, 
					costTWD: 0, 
					pay: '' 
				},
				{ 
					time: '17:30', 
					location: 'è±¬è‚‰æ¹¯éºµ', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: 'æ™šé¤', 
					distance: '0.25km', 
					duration: '3åˆ†é˜', 
					costKRW: 28000, 
					costTWD: 622, 
					pay: 'åˆ·å¡', 
					link: 'https://blog.naver.com/rrockf0/224106504154' 
				},
				{ 
					time: '18:30', 
					location: 'é£¯åº—', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: '', 
					distance: '0.25km', 
					duration: '3åˆ†é˜', 
					costKRW: 0, 
					costTWD: 0, 
					pay: '' 
				},
				{ 
					time: '20:00', 
					location: 'BHCç‚¸é›', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: 'å®µå¤œ', 
					distance: '0.3km', 
					duration: '4åˆ†é˜', 
					costKRW: 25000, 
					costTWD: 556, 
					pay: 'åˆ·å¡', 
					link: 'https://tinachou.com/bhc-chicken/' 
				}
                ],
				2: [
				{ 
					time: '10:00', 
					location: 'é£¯åº—', 
					transport: '', 
					category: '', 
					costKRW: 0, 
					costTWD: 0, 
					pay: '' 
				},
				{ 
					time: '10:30', 
					location: 'é¾é ­å²© & é¾æ·µé›²æ©‹', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '4.9km', 
					duration: '17åˆ†é˜', 
					costKRW: 7500, 
					costTWD: 167, 
					pay: 'WOWPASS', 
					link: 'https://ginatw.com/jeju-yongduam/' 
				},
				{ 
					time: '12:00', 
					location: 'æ±é–€å¸‚å ´+ä¸­å¤®æ´åœ°ä¸‹è¡—+ä¸ƒæ˜Ÿè·¯', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '2.7km', 
					duration: '12åˆ†é˜', 
					costKRW: 6800, 
					costTWD: 151, 
					pay: 'WOWPASS', 
					link: 'https://www.funliday.com/posts/jeju_dongmun_food/' 
				},
				{ 
					time: '',
					location: 'å¸‚å ´ç‚’å¹´ç³• (åˆé¤)', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: 'åˆé¤', 
					costKRW: 13000, 
					costTWD: 289, 
					pay: 'ç¾é‡‘', 
					link: 'https://blog.naver.com/dortus1213/224101319294' 
				},
				{ 
					time: '15:00', 
					location: 'é£¯åº—', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '', 
					distance: '6.4km', 
					duration: '30åˆ†é˜', 
					costKRW: 8200, 
					costTWD: 182, 
					pay: 'WOWPASS' 
				},
				{ 
					time: '',
					location: 'è“®æ´å•†åœˆ', 
					transport: 'ğŸš¶ èµ°è·¯', 
					category: '', 
					costKRW: 0, 
					costTWD: 0, 
					pay: '' 
				},
				{ 
					time: '18:00', 
					location: 'å‰å¾€æ˜å€«é€²å£«æ’éª¨', 
					transport: 'ğŸš• è¨ˆç¨‹è»Š', 
					category: '',
					distance: '2.2km', 
					duration: '8åˆ†é˜', 
					costKRW: 4900, 
					costTWD: 109, 
					pay: 'WOWPASS' 
				},
				{ 
					time: '',
					location: 'æ˜å€«é€²å£«æ’éª¨', 
					transport: '', 
					category: 'æ™šé¤', 
					costKRW: 65700, 
					costTWD: 1460, 
					pay: 'åˆ·å¡', 
					link: 'https://blog.naver.com/moooonhalo/224107010596' 
				}
			],
                3: {
                    'A': [
                        { 
							time: '10:00', 
							location: 'æ©Ÿå ´', 
							transport: 'ğŸš• è¨ˆç¨‹è»Š', 
							category: '', 
							distance: '3km', 
							duration: '7åˆ†é˜', 
							costKRW: 5900, 
							costTWD: 131, 
							pay: 'WOWPASS' 
						},
						{ 
							time: '11:00', 
							location: 'å’¸å¾·æµ·æ°´æµ´å ´', 
							transport: 'ğŸšŒ å…¬è»Š 101', 
							category: '', 
							duration: '45åˆ†é˜', 
							costKRW: 6000, 
							costTWD: 133, 
							pay: 'TMONEY', 
							link: 'https://ginatw.com/jeju-hamdeok-beach/' 
						},
						{ 
							time: '12:00', 
							location: 'æµ·å¥³é£¯æ² (åˆé¤)', 
							transport: 'ğŸš¶ èµ°è·¯', 
							category: 'é£Ÿ', 
							distance: '0.13km', 
							duration: '2åˆ†é˜', 
							costKRW: 26500, 
							costTWD: 589, 
							pay: 'åˆ·å¡', 
							link: 'https://dpm2bb.com/2025-54/' 
						},
						{ 
							time: '12:00', 
							location: 'å¤§è’œéºµåŒ… (é»å¿ƒ)', 
							transport: 'ğŸš¶ èµ°è·¯', 
							category: 'é£Ÿ', 
							distance: '0.05km', 
							duration: '1åˆ†é˜', 
							costKRW: 7300, 
							costTWD: 162, 
							pay: 'åˆ·å¡', 
							link: 'https://abby0318.pixnet.net/blog/posts/9578048424' 
						},
						{ 
							time: '14:00', 
							location: 'æœˆæ±€é‡Œ', 
							transport: 'ğŸšŒ å…¬è»Š 101', 
							category: '', 
							duration: '20åˆ†é˜', 
							costKRW: 6000, 
							costTWD: 133, 
							pay: 'TMONEY', 
							link: 'https://lizzzstyle.tw/%E6%9C%88%E6%B1%80%E9%87%8C%E6%B5%B7%E6%B0%B4%E6%B5%B4%E5%A0%B4/' 
						},
						{ 
							time: '15:00', 
							location: 'åŸå±±æ—¥å‡ºå³°', 
							transport: 'ğŸšŒ å…¬è»Š 101', 
							category: '', 
							duration: '25åˆ†é˜', 
							costKRW: 6000, 
							costTWD: 133, 
							pay: 'TMONEY', 
							link: 'https://we4-travel.com/jeju-seongsan/' 
						},
						{ 
							time: '17:30', 
							location: 'æ©Ÿå ´', 
							transport: 'ğŸšŒ å…¬è»Š 101', 
							category: '', 
							duration: '90åˆ†é˜', 
							costKRW: 9000, 
							costTWD: 200, 
							pay: 'TMONEY' 
						},
						{ 
							time: '',
							location: 'é£¯åº—', 
							transport: 'ğŸš• è¨ˆç¨‹è»Š', 
							category: '', 
							distance: '3km', 
							duration: '7åˆ†é˜', 
							costKRW: 5900, 
							costTWD: 131, 
							pay: 'WOWPASS' 
						},
						{ 
							time: '', 
							location: 'ä¸€å“è±†è…é‹', 
							transport: 'ğŸš¶ èµ°è·¯', 
							category: 'æ™šé¤', 
							distance: '0.5km', 
							duration: '8åˆ†é˜', 
							costKRW: 33000, 
							costTWD: 733, 
							pay: 'åˆ·å¡', 
							link: 'https://blog.naver.com/onmyway86/223854869392' 
						}
                    ],
                    'B': [
                        { 
							time: '07:30', 
							location: 'ä¸€æ—¥éŠ', 
							transport: '', 
							category: '', 
							costKRW: 16470, 
							costTWD: 366, 
							pay: 'äº‹å…ˆåˆ·å¡', 
							link: 'https://tw.trip.com/things-to-do/detail/86898612?language=TW&locale=zh_tw&districtId=1446512&districtType=1&ext-list=city_category_card_detail&ext-parentid=89446479&ext-seoslug=jeju-day-tour' 
						},
						{ 
							time: '09:30', 
							location: 'ç‰›å³¶ç¢¼é ­', 
							transport: '', 
							category: '', 
							costKRW: 90000, 
							costTWD: 2000, 
							pay: 'ç¾é‡‘' 
						},
						{ 
							time: '13:30', 
							location: 'é›¢é–‹ç‰›å³¶', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '14:00', 
							location: 'åŸå±±æ—¥å‡ºå³°', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '15:00', 
							location: 'é›¢é–‹åŸå±±', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '15:15', 
							location: 'æ¶‰åœ°å¯æ”¯', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '16:15', 
							location: 'é›¢é–‹æ¶‰åœ°å¯æ”¯', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '16:45', 
							location: 'æœˆæ±€é‡Œæµ·é‚Š', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '17:45', 
							location: 'å›ç¨‹', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '19:00', 
							location: 'æ–°ç¾…å…ç¨…åº—æ¿Ÿå·åº—è§£æ•£', 
							transport: '', 
							category: '', 
							costKRW: 0, 
							costTWD: 0, 
							pay: '' 
						},
						{ 
							time: '', // æ™‚é–“ç‚ºç©ºï¼Œæœƒè¢«æ‚¨çš„ jQuery é‚è¼¯éš±è—
							location: 'ä¸€å“è±†è…é‹', 
							transport: 'ğŸš¶ èµ°è·¯', 
							category: 'æ™šé¤', 
							distance: '0.5km', 
							duration: '8åˆ†é˜', 
							costKRW: 33000, 
							costTWD: 733, 
							pay: 'åˆ·å¡', 
							link: 'https://blog.naver.com/onmyway86/223854869392' 
						}
                    ]
                },
                
                4: {
                    'A': [
						{ time: '09:50', location: 'é£¯åº—', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '0.6km', duration: '10åˆ†é˜', costKRW: 0, costTWD: 0, pay: '' },
                        { time: '10:05', location: 'å¤©ç‹¼æ˜Ÿé…’åº—', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '0.6km', duration: '10åˆ†é˜', costKRW: 0, costTWD: 0, pay: '' },
						{ time: '11:00', location: '1100é«˜åœ°', transport: 'ğŸšŒ å…¬è»Š 240', category: '', duration: '40åˆ†é˜', costKRW: 3450, costTWD: 77, pay: 'TMONEY', link: 'https://mamahuhu.blog/overseas/1100-highland/' },
						{ time: '12:00', location: 'GS25', transport: 'ğŸš¶ èµ°è·¯', category: 'åˆé¤', costKRW: 0, costTWD: 0, pay: '' },
						{ time: '14:00', location: 'æ¨¹æœ¨åœ’', transport: 'ğŸšŒ å…¬è»Š 240', category: '', duration: '25åˆ†é˜', costKRW: 3450, costTWD: 77, pay: 'TMONEY', link: 'https://big5chinese.visitkorea.or.kr/svc/contents/contentsView.do?vcontsId=111875' },
						{ time: '15:30', location: 'é£¯åº—', transport: 'ğŸšŒ å…¬è»Š 415', category: '', duration: '15åˆ†é˜', costKRW: 3450, costTWD: 77, pay: 'TMONEY' },
						{ time: '17:00', location: 'å‰å¾€ä¸‰å§“ç©´æµ·é®®æ¹¯', transport: 'ğŸš• è¨ˆç¨‹è»Š', category: '', distance: '1.6km', duration: '7åˆ†é˜', costKRW: 4600, costTWD: 102, pay: 'WOWPASS' },
						{ time: '17:10', location: 'ä¸‰å§“ç©´æµ·é®®æ¹¯', transport: '', category: 'æ™šé¤', distance: '', duration: '', costKRW: 80000, costTWD: 1778, pay: 'åˆ·å¡', link: 'https://blog.naver.com/kimsj812000/224118124049' },
						{ time: '', location: 'é£¯åº—', transport: 'ğŸš• è¨ˆç¨‹è»Š', category: '', distance: '1.6km', duration: '7åˆ†é˜', costKRW: 4600, costTWD: 102, pay: 'WOWPASS' }
                    ],
                    'B': [
						{ time: '09:50', location: 'é£¯åº—', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '', duration: '', costKRW: 0, costTWD: 0, pay: '' },
						{ time: '10:05', location: 'æ–°æ¿Ÿå·æ‰¶è¼ªç¤¾(ç«™ç‰Œ)', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '0.48km', duration: '7åˆ†é˜', costKRW: 0, costTWD: 0, pay: '' },
						{ time: '11:00', location: 'Osulloc ç¶ èŒ¶åšç‰©é¤¨ & Innisfree', transport: 'ğŸšŒ å…¬è»Š 151', category: '', duration: '46åˆ†é˜', costKRW: 7800, costTWD: 173, pay: 'TMONEY', link: 'https://abby0318.pixnet.net/blog/posts/9577743624' },
						{ time: '13:30', location: 'å±±èŒ¶èŠ±ä¹‹ä¸˜', transport: 'ğŸš• è¨ˆç¨‹è»Š', category: '', distance: '11km', duration: '15åˆ†é˜', costKRW: 13300, costTWD: 296, pay: 'WOWPASS', link: 'https://tinachiang0824.pixnet.net/blog/posts/9577984386' },
						{ time: '', location: 'å±±èŒ¶èŠ±ä¹‹ä¸˜é–€ç¥¨', transport: '', category: '', costKRW: 30000, costTWD: 667, pay: 'åˆ·å¡' },
						{ time: '', location: 'ç™½å¸¶é­š/æ¹¯éºµ', transport: '', category: '', costKRW: 36000, costTWD: 800, pay: 'åˆ·å¡', link: 'https://m.blog.naver.com/s_li_eul/224073371727' },
						{ time: '17:00', location: 'é£¯åº—', transport: 'ğŸšŒ å…¬è»Š 752/181/356', category: '', duration: '75åˆ†é˜', costKRW: 7200, costTWD: 160, pay: 'TMONEY' },
						{ time: '17:00', location: 'å‰å¾€ä¸‰å§“ç©´æµ·é®®æ¹¯', transport: 'ğŸš• è¨ˆç¨‹è»Š', category: '', distance: '1.6km', duration: '7åˆ†é˜', costKRW: 4600, costTWD: 102, pay: 'WOWPASS' },
						{ time: '17:10', location: 'ä¸‰å§“ç©´æµ·é®®æ¹¯', transport: '', category: 'æ™šé¤', distance: '', duration: '', costKRW: 80000, costTWD: 1778, pay: 'åˆ·å¡', link: 'https://blog.naver.com/kimsj812000/224118124049' },
						{ time: '', location: 'é£¯åº—', transport: 'ğŸš• è¨ˆç¨‹è»Š', category: '', distance: '1.6km', duration: '7åˆ†é˜', costKRW: 4600, costTWD: 102, pay: 'WOWPASS' }
					]
                },
				5: [
					{ time: '', location: 'é£¯åº—', transport: '', category: '', costKRW: 0, costTWD: 0, pay: '' },
					{ time: '', location: 'åå·ä½å®…(ç«™ç‰Œ)', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '0.8km', duration: '12åˆ†é˜', costKRW: 0, costTWD: 0, pay: '' },
					{ time: '11:00', location: 'æ¶¯æœˆæ¼¢æ½­æµ·é‚Šæ­¥é“/å’–å•¡ä¸€æ¢è¡—', transport: 'ğŸšŒ å…¬è»Š 202', category: '', duration: '47åˆ†é˜', costKRW: 3450, costTWD: 77, pay: 'TMONEY' },
					{ time: '', location: 'tribeå’–å•¡å»³èˆ’èŠ™è•¾', transport: '', category: '', costKRW: 18000, costTWD: 400, pay: 'åˆ·å¡', link: 'https://kettle.pixnet.net/blog/posts/10358274565' },
					{ time: '', location: 'æµ·é®®æ‹‰éºµ', transport: '', category: 'åˆé¤', costKRW: 36000, costTWD: 800, pay: 'åˆ·å¡', link: 'https://reurl.cc/3byzNO' },
					{ time: '14:00', location: 'ä¸‰ç„¡å…¬åœ’', transport: 'ğŸšŒ å…¬è»Š 202', category: '', duration: '49åˆ†é˜', costKRW: 3450, costTWD: 77, pay: 'TMONEY' },
					{ time: '', location: 'é£¯åº—', transport: 'ğŸš¶ èµ°è·¯', category: '', distance: '0.24km', duration: '3åˆ†é˜', costKRW: 0, costTWD: 0, pay: '' }
				]
            };

            function getPayClass(pay) {
                if (!pay) return 'hidden';
                if (pay.includes('WOWPASS')) return 'pay-WOWPASS';
                if (pay.includes('TMONEY')) return 'pay-tmoney';
                if (pay.includes('åˆ·å¡')) return 'pay-card';
                return 'pay-cash';
            }

            function renderDayNav() {
                const $nav = $('#day-nav');
                $nav.empty();
                for (let day = 1; day <= 5; day++) {
                    const isActive = (currentDay === day);
                    const $btn = $('<button></button>')
                        .addClass(`nav-btn flex flex-col items-center justify-center`)
                        .addClass(isActive 
                            ? 'bg-orange-500 text-white shadow-lg scale-105 z-10 border-2 border-white' 
                            : 'bg-white/95 text-slate-600 border border-slate-200/60')
                        .append(`<span class="text-[9px] font-black leading-none mb-0.5">DAY</span>`)
                        .append(`<span class="leading-none text-xl">${day}</span>`)
                        .on('click', () => setDay(day));
                    $nav.append($btn);
                }
            }

            function setDay(day) {
                currentDay = day;
                currentPlan = 'A';
                updatePlanSwitcherUI();
                renderSchedule();
                renderDayNav();
                $('html, body').animate({ scrollTop: 0 }, 'fast');
            }

            function updatePlanSwitcherUI() {
                const dayData = scheduleData[currentDay];
                const hasPlans = dayData && !Array.isArray(dayData);
                if (hasPlans) {
                    $('#plan-switcher').removeClass('hidden');
                    $('.plan-btn').removeClass('bg-slate-800 text-white shadow-md text-slate-500 bg-transparent');
                    if (currentPlan === 'A') {
                        $('#btn-plan-A').addClass('bg-slate-800 text-white shadow-md');
                        $('#btn-plan-B').addClass('text-slate-500 bg-transparent');
                    } else {
                        $('#btn-plan-B').addClass('bg-slate-800 text-white shadow-md');
                        $('#btn-plan-A').addClass('text-slate-500 bg-transparent');
                    }
                } else {
                    $('#plan-switcher').addClass('hidden');
                }
            }

            function renderSchedule() {
                const $container = $('#schedule-container');
                let rawData = scheduleData[currentDay] || [];
                const items = Array.isArray(rawData) ? rawData : (rawData[currentPlan] || []);
                
                $container.empty();
                let totalKRW = 0, totalTWD = 0;
                let paySummary = {};

                if (items.length === 0) {
                    $('#timeline-line').hide();
                    $container.append(`<div class="text-center py-16 bg-white/10 rounded-2xl border border-dashed border-white/20 text-white font-bold text-lg italic animate-fade">DAY ${currentDay} å°šæœªè¦åŠƒè¡Œç¨‹</div>`);
                    updateSummary(0, 0, {});
                    return;
                } else {
                    $('#timeline-line').show();
                }

                $.each(items, function(index, item) {
                    const krw = item.costKRW || 0;
                    const twd = item.costTWD || 0;
                    totalKRW += krw; totalTWD += twd;

                    if (item.pay && krw > 0) {
                        if (!paySummary[item.pay]) paySummary[item.pay] = { krw: 0 };
                        paySummary[item.pay].krw += krw;
                    }

                    // 1. æ¸²æŸ“è¡Œç¨‹å¡ç‰‡
                    const $card = $('<div></div>')
                        .addClass("glass-card p-5 animate-fade mb-4 ml-14")
                        .css('animation-delay', `${index * 0.1}s`)
                        .html(`
                            <!-- æ™‚é–“é»ç¯€é» -->
                            <div class="absolute -left-[41px] top-6 w-7 h-7 bg-orange-500 border-4 border-white rounded-full shadow-md z-20"></div>
                            
                            <div class="flex justify-between items-center mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="time-span text-lg font-black text-orange-600 bg-orange-50 px-2 py-0.5 rounded-lg border border-orange-100">${item.time}</span>
                                    <span class="kind-span px-2 py-0.5 rounded text-[12px] font-black bg-slate-100 text-slate-500 border border-slate-200">${item.category}</span>
                                </div>
                                <span class="pay-tag ${getPayClass(item.pay)}">${item.pay || ''}</span>
                            </div>
                            
                            <h3 class="text-xl font-black text-slate-900 mb-3">${item.location}</h3>
                            
                            <div class="flex justify-between items-end gap-2">
                                <div class="space-y-2 flex-grow">
                                    ${item.link ? `
                                        <a href="${item.link}" target="_blank" class="inline-flex items-center gap-1.5 bg-blue-600 text-white px-3.5 py-1.5 rounded-lg text-sm font-black shadow-sm active:scale-95 transition-transform">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" class="w-4 h-4"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                                            æŸ¥çœ‹ä»‹ç´¹
                                        </a>` : ''}
                                </div>
                                ${krw > 0 ? `
                                <div class="text-right flex-shrink-0">
                                    <p class="text-xl font-black text-slate-900 tabular-nums leading-none mb-1">â‚©${krw.toLocaleString()}</p>
                                    <p class="text-[15px] font-bold text-blue-600 tabular-nums leading-none">NT$ ${twd.toLocaleString()}</p>
                                </div>` : ''}
                            </div>
                        `);
                    $container.append($card);

                    // 2. æ¸²æŸ“éŠœæ¥äº¤é€š (å¦‚æœä¸æ˜¯æœ€å¾Œä¸€é …)
                    if (index < items.length - 1) {
                        const nextItem = items[index + 1];
                        // çµ„åˆè·é›¢èˆ‡æ™‚é–“æ–‡å­—
                        const infoText = [nextItem.distance, nextItem.duration].filter(Boolean).join(' Â· ');

                        const $transport = $('<div></div>')
                            .addClass("transport-connector animate-fade py-2 mb-4")
                            .css('animation-delay', `${index * 0.1 + 0.05}s`)
                            .html(`
                                <div class="flex items-center gap-2 text-slate-300">
                                    <div class="trans-span  bg-white/20 px-3 py-1 rounded-full border border-white/10 flex items-center gap-2">
                                        <span class="text-sm font-black text-white">${nextItem.transport}</span>
                                        ${infoText ? `<span class="text-[11px] font-bold opacity-70">(${infoText})</span>` : ''}
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" class="w-3 h-3 text-orange-400"><path d="M7 13l5 5 5-5M7 6l5 5 5-5"/></svg>
                                    </div>
                                </div>
                            `);
                        $container.append($transport);
                    }
                });

                updateSummary(totalKRW, totalTWD, paySummary);
				$('.time-span').each(function() {
					// ä½¿ç”¨ $.trim ç§»é™¤ç©ºæ ¼ï¼Œåˆ¤æ–·å…§å®¹æ˜¯å¦é•·åº¦ç‚º 0
					if ($.trim($(this).text()) === "") {
						$(this).hide();
					}
				});
				$('.kind-span').each(function() {
					// ä½¿ç”¨ $.trim ç§»é™¤ç©ºæ ¼ï¼Œåˆ¤æ–·å…§å®¹æ˜¯å¦é•·åº¦ç‚º 0
					if ($.trim($(this).text()) === "") {
						$(this).hide();
					}
				});
				$('.trans-span ').each(function() {
					// ä½¿ç”¨ $.trim ç§»é™¤ç©ºæ ¼ï¼Œåˆ¤æ–·å…§å®¹æ˜¯å¦é•·åº¦ç‚º 0
					if ($.trim($(this).text()) === "") {
						$(this).hide();
					}
				});
				
            }

            function updateSummary(krw, twd, summary) {
                $('#total-krw').text(`â‚© ${krw.toLocaleString()}`);
                $('#total-twd').text(`NT$ ${twd.toLocaleString()}`);
                $('#current-day-label').text(`Day ${currentDay}${(!Array.isArray(scheduleData[currentDay])) ? ` - æ–¹æ¡ˆ ${currentPlan}` : ''}`);
                
                const $subtotalBox = $('#payment-subtotal');
                $subtotalBox.empty();
                
                $.each(summary, function(method, costs) {
                    const $div = $('<div></div>')
                        .addClass("flex justify-between items-center bg-white/5 p-2.5 rounded-lg border border-white/10")
                        .html(`
                            <span class="pay-tag ${getPayClass(method)}">${method}</span>
                            <span class="text-white text-base font-black tabular-nums">â‚© ${costs.krw.toLocaleString()}</span>
                        `);
                    $subtotalBox.append($div);
                });
            }

            $('#btn-plan-A').on('click', function() {
                if (currentPlan === 'A') return;
                currentPlan = 'A';
                updatePlanSwitcherUI();
                renderSchedule();
            });

            $('#btn-plan-B').on('click', function() {
                if (currentPlan === 'B') return;
                currentPlan = 'B';
                updatePlanSwitcherUI();
                renderSchedule();
            });

            setDay(1);
        });
    </script>
</body>
</html>